{"version":3,"file":null,"sources":["services/completer-data-factory.js","directives/ctr-completer.js","globals.js","components/completer-cmp.js","components/completer-list-item-cmp.js","services/completer-base-data.js","services/local-data.js","services/remote-data.js","services/completer-service.js","directives/ctr-dropdown.js","directives/ctr-input.js","directives/ctr-list.js","directives/ctr-row.js","ng2-completer.module.js"],"sourcesContent":["import { Http } from \"@angular/http\";\nimport { LocalData } from \"./local-data\";\nimport { RemoteData } from \"./remote-data\";\nexport function localDataFactory() {\n    return function () {\n        return new LocalData();\n    };\n}\nexport function remoteDataFactory(http) {\n    return function () {\n        return new RemoteData(http);\n    };\n}\nexport var LocalDataFactoryProvider = { provide: LocalData, useFactory: localDataFactory };\nexport var RemoteDataFactoryProvider = { provide: RemoteData, useFactory: remoteDataFactory, deps: [Http] };\n//# sourceMappingURL=completer-data-factory.js.map","import { Directive, EventEmitter, Output } from \"@angular/core\";\nexport var CtrCompleter = (function () {\n    function CtrCompleter() {\n        this.selected = new EventEmitter();\n        this.highlighted = new EventEmitter();\n        this._hasHighlited = false;\n        this.hasSelected = false;\n    }\n    CtrCompleter.prototype.ngOnInit = function () {\n        //\n    };\n    CtrCompleter.prototype.registerList = function (list) {\n        this.list = list;\n    };\n    CtrCompleter.prototype.registerDropdown = function (dropdown) {\n        this.dropdown = dropdown;\n    };\n    CtrCompleter.prototype.onHighlighted = function (item) {\n        this.highlighted.emit(item);\n        this._hasHighlited = true;\n    };\n    CtrCompleter.prototype.onSelected = function (item) {\n        this.selected.emit(item);\n        this.hasSelected = true;\n        this.clear();\n    };\n    CtrCompleter.prototype.search = function (term) {\n        if (this.hasSelected) {\n            this.selected.emit(null);\n            this.hasSelected = false;\n        }\n        if (this.list) {\n            this.list.search(term);\n        }\n    };\n    CtrCompleter.prototype.clear = function () {\n        if (this.dropdown) {\n            this.dropdown.clear();\n        }\n        if (this.list) {\n            this.list.clear();\n        }\n        this._hasHighlited = false;\n    };\n    CtrCompleter.prototype.selectCurrent = function () {\n        if (this.dropdown) {\n            this.dropdown.selectCurrent();\n        }\n    };\n    CtrCompleter.prototype.nextRow = function () {\n        if (this.dropdown) {\n            this.dropdown.nextRow();\n        }\n    };\n    CtrCompleter.prototype.prevRow = function () {\n        if (this.dropdown) {\n            this.dropdown.prevRow();\n        }\n    };\n    CtrCompleter.prototype.hasHighlited = function () {\n        return this._hasHighlited;\n    };\n    CtrCompleter.decorators = [\n        { type: Directive, args: [{\n                    selector: \"[ctrCompleter]\",\n                },] },\n    ];\n    /** @nocollapse */\n    CtrCompleter.ctorParameters = function () { return []; };\n    CtrCompleter.propDecorators = {\n        'selected': [{ type: Output },],\n        'highlighted': [{ type: Output },],\n    };\n    return CtrCompleter;\n}());\n//# sourceMappingURL=ctr-completer.js.map","export var MAX_CHARS = 524288; // the default max length per the html maxlength attribute\nexport var MIN_SEARCH_LENGTH = 3;\nexport var PAUSE = 250;\nexport var TEXT_SEARCHING = \"Searching...\";\nexport var TEXT_NORESULTS = \"No results found\";\nexport var CLEAR_TIMEOUT = 100;\n//# sourceMappingURL=globals.js.map","\"use strict\";\nimport { Component, Input, Output, EventEmitter, ViewChild, forwardRef } from \"@angular/core\";\nimport { FormControl, NG_VALUE_ACCESSOR } from \"@angular/forms\";\nimport { CtrCompleter } from \"../directives/ctr-completer\";\nimport { MAX_CHARS, MIN_SEARCH_LENGTH, PAUSE, TEXT_SEARCHING, TEXT_NORESULTS } from \"../globals\";\nimport \"rxjs/add/operator/catch\";\nvar noop = function () { };\nvar COMPLETER_CONTROL_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(function () { return CompleterCmp; }),\n    multi: true\n};\nexport var CompleterCmp = (function () {\n    function CompleterCmp() {\n        this.inputName = \"\";\n        this.pause = PAUSE;\n        this.minSearchLength = MIN_SEARCH_LENGTH;\n        this.maxChars = MAX_CHARS;\n        this.overrideSuggested = false;\n        this.clearSelected = false;\n        this.fillHighlighted = true;\n        this.placeholder = \"\";\n        this.textSearching = TEXT_SEARCHING;\n        this.textNoResults = TEXT_NORESULTS;\n        this.autoMatch = false;\n        this.disableInput = false;\n        this.autofocus = false;\n        this.selected = new EventEmitter();\n        this.highlighted = new EventEmitter();\n        this.blur = new EventEmitter();\n        this.searchStr = \"\";\n        this.control = new FormControl(\"\");\n        this.displaySearching = true;\n        this._onTouchedCallback = noop;\n        this._onChangeCallback = noop;\n    }\n    Object.defineProperty(CompleterCmp.prototype, \"value\", {\n        get: function () { return this.searchStr; },\n        set: function (v) {\n            if (v !== this.searchStr) {\n                this.searchStr = v;\n            }\n            // Propagate the change in any case\n            this._onChangeCallback(v);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ;\n    CompleterCmp.prototype.onTouched = function () {\n        this._onTouchedCallback();\n    };\n    CompleterCmp.prototype.writeValue = function (value) {\n        this.searchStr = value;\n    };\n    CompleterCmp.prototype.registerOnChange = function (fn) {\n        this._onChangeCallback = fn;\n    };\n    CompleterCmp.prototype.registerOnTouched = function (fn) {\n        this._onTouchedCallback = fn;\n    };\n    CompleterCmp.prototype.ngOnInit = function () {\n        var _this = this;\n        this.completer.selected.subscribe(function (item) {\n            var title = item ? item.title : \"\";\n            _this.selected.emit(item);\n            _this._onChangeCallback(title);\n        });\n        this.completer.highlighted.subscribe(function (item) {\n            _this.highlighted.emit(item);\n        });\n        if (this.textSearching === \"false\") {\n            this.displaySearching = false;\n        }\n    };\n    CompleterCmp.prototype.onBlur = function () {\n        this.blur.emit();\n        this.onTouched();\n    };\n    CompleterCmp.prototype.onChange = function (value) {\n        this.value = value;\n    };\n    CompleterCmp.prototype.open = function (searchValue) {\n        if (searchValue === void 0) { searchValue = \"\"; }\n        this.completer.search(searchValue);\n    };\n    CompleterCmp.prototype.close = function () {\n        this.completer.clear();\n    };\n    CompleterCmp.decorators = [\n        { type: Component, args: [{\n                    selector: \"ng2-completer\",\n                    template: \"\\n        <div class=\\\"completer-holder\\\" ctrCompleter>\\n            <input type=\\\"search\\\" class=\\\"completer-input\\\" ctrInput [ngClass]=\\\"inputClass\\\" [(ngModel)]=\\\"searchStr\\\" (ngModelChange)=\\\"onChange($event)\\\" [attr.name]=\\\"inputName\\\" [placeholder]=\\\"placeholder\\\"\\n                [attr.maxlength]=\\\"maxChars\\\" [tabindex]=\\\"fieldTabindex\\\" [disabled]=\\\"disableInput\\\" [clearSelected]=\\\"clearSelected\\\" [overrideSuggested]=\\\"overrideSuggested\\\" \\n                [fillHighlighted]=\\\"fillHighlighted\\\" (blur)=\\\"onBlur()\\\" [autofocus]=\\\"autofocus\\\" autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" />\\n\\n            <div class=\\\"completer-dropdown-holder\\\" *ctrList=\\\"dataService; minSearchLength: minSearchLength; pause: pause; autoMatch: autoMatch; let items = results; let searchActive = searching; let isInitialized = searchInitialized;\\\">\\n                <div class=\\\"completer-dropdown\\\" ctrDropdown *ngIf=\\\"isInitialized\\\">\\n                    <div *ngIf=\\\"searchActive && displaySearching\\\" class=\\\"completer-searching\\\">{{textSearching}}</div>\\n                    <div *ngIf=\\\"!searchActive && (!items || items.length === 0)\\\" class=\\\"completer-no-results\\\">{{textNoResults}}</div>\\n                    <div class=\\\"completer-row-wrapper\\\" *ngFor=\\\"let item of items; let rowIndex=index\\\">\\n                        <div class=\\\"completer-row\\\" [ctrRow]=\\\"rowIndex\\\" [dataItem]=\\\"item\\\">\\n                            <div *ngIf=\\\"item.image || item.image === ''\\\" class=\\\"completer-image-holder\\\">\\n                                <img *ngIf=\\\"item.image != ''\\\" src=\\\"{{item.image}}\\\" class=\\\"completer-image\\\" />\\n                                <div *ngIf=\\\"item.image === ''\\\" class=\\\"completer-image-default\\\"></div>\\n                            </div>\\n                            <div class=\\\"completer-item-text\\\" [ngClass]=\\\"{'completer-item-text-image': item.image || item.image === '' }\\\">\\n                                <completer-list-item class=\\\"completer-title\\\" [text]=\\\"item.title\\\" [matchClass]=\\\"matchClass\\\" [searchStr]=\\\"searchStr\\\" [type]=\\\"'title'\\\"></completer-list-item>\\n                                <completer-list-item *ngIf=\\\"item.description && item.description != ''\\\" class=\\\"completer-description\\\" [text]=\\\"item.description\\\"\\n                                    [matchClass]=\\\"matchClass\\\" [searchStr]=\\\"searchStr\\\" [type]=\\\"'description'\\\">\\n                                </completer-list-item>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    \",\n                    styles: [\"\\n    .completer-dropdown {\\n        border-color: #ececec;\\n        border-width: 1px;\\n        border-style: solid;\\n        border-radius: 2px;\\n        width: 250px;\\n        padding: 6px;\\n        cursor: pointer;\\n        z-index: 9999;\\n        position: absolute;\\n        margin-top: -6px;\\n        background-color: #ffffff;\\n    }\\n\\n    .completer-row {\\n        padding: 5px;\\n        color: #000000;\\n        margin-bottom: 4px;\\n        clear: both;\\n        display: inline-block;\\n        width: 103%;\\n    }\\n\\n    .completer-selected-row {\\n        background-color: lightblue;\\n        color: #ffffff;\\n    }\\n\\n    .completer-description {\\n        font-size: 14px;\\n    }\\n\\n    .completer-image-default {\\n        width: 16px; \\n        height: 16px;\\n        background-image: url(\\\"demo/res/img/default.png\\\");\\n    }\\n\\n    .completer-image-holder {\\n        float: left;\\n        width: 10%;\\n    }\\n    .completer-item-text-image {\\n        float: right;\\n        width: 90%;\\n    }\\n    \"],\n                    providers: [COMPLETER_CONTROL_VALUE_ACCESSOR]\n                },] },\n    ];\n    /** @nocollapse */\n    CompleterCmp.ctorParameters = function () { return []; };\n    CompleterCmp.propDecorators = {\n        'dataService': [{ type: Input },],\n        'inputName': [{ type: Input },],\n        'pause': [{ type: Input },],\n        'minSearchLength': [{ type: Input },],\n        'maxChars': [{ type: Input },],\n        'overrideSuggested': [{ type: Input },],\n        'clearSelected': [{ type: Input },],\n        'fillHighlighted': [{ type: Input },],\n        'placeholder': [{ type: Input },],\n        'matchClass': [{ type: Input },],\n        'textSearching': [{ type: Input },],\n        'textNoResults': [{ type: Input },],\n        'fieldTabindex': [{ type: Input },],\n        'autoMatch': [{ type: Input },],\n        'disableInput': [{ type: Input },],\n        'inputClass': [{ type: Input },],\n        'autofocus': [{ type: Input },],\n        'selected': [{ type: Output },],\n        'highlighted': [{ type: Output },],\n        'blur': [{ type: Output },],\n        'completer': [{ type: ViewChild, args: [CtrCompleter,] },],\n    };\n    return CompleterCmp;\n}());\n//# sourceMappingURL=completer-cmp.js.map","\"use strict\";\nimport { Component, Input } from \"@angular/core\";\nexport var CompleterListItemCmp = (function () {\n    function CompleterListItemCmp() {\n        this.parts = [];\n    }\n    CompleterListItemCmp.prototype.ngOnInit = function () {\n        if (!this.searchStr) {\n            this.parts.push({ isMatch: false, text: this.text });\n            return;\n        }\n        var matchStr = this.text.toLowerCase();\n        var matchPos = matchStr.indexOf(this.searchStr.toLowerCase());\n        var startIndex = 0;\n        while (matchPos >= 0) {\n            var matchText = this.text.slice(matchPos, matchPos + this.searchStr.length);\n            if (matchPos === 0) {\n                this.parts.push({ isMatch: true, text: matchText });\n                startIndex += this.searchStr.length;\n            }\n            else if (matchPos > 0) {\n                var matchPart = this.text.slice(startIndex, matchPos);\n                this.parts.push({ isMatch: false, text: matchPart });\n                this.parts.push({ isMatch: true, text: matchText });\n                startIndex += this.searchStr.length + matchPart.length;\n            }\n            matchPos = matchStr.indexOf(this.searchStr.toLowerCase(), startIndex);\n        }\n        if (startIndex < this.text.length) {\n            this.parts.push({ isMatch: false, text: this.text.slice(startIndex, this.text.length) });\n        }\n    };\n    CompleterListItemCmp.decorators = [\n        { type: Component, args: [{\n                    selector: \"completer-list-item\",\n                    template: \"\\n    <span class=\\\"completer-list-item-holder\\\" [ngClass]=\\\"{'completer-title': type === 'title', 'completer-description': type === 'description'}\\\" >\\n        <span class=\\\"completer-list-item\\\" *ngFor=\\\"let part of parts\\\" [ngClass]=\\\"part.isMatch ? matchClass : null\\\">{{part.text}}</span>\\n    </span>\\n    \"\n                },] },\n    ];\n    /** @nocollapse */\n    CompleterListItemCmp.ctorParameters = function () { return []; };\n    CompleterListItemCmp.propDecorators = {\n        'text': [{ type: Input },],\n        'searchStr': [{ type: Input },],\n        'matchClass': [{ type: Input },],\n        'type': [{ type: Input },],\n    };\n    return CompleterListItemCmp;\n}());\n//# sourceMappingURL=completer-list-item-cmp.js.map","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nimport { Subject } from \"rxjs/Subject\";\nexport var CompleterBaseData = (function (_super) {\n    __extends(CompleterBaseData, _super);\n    function CompleterBaseData() {\n        _super.call(this);\n    }\n    CompleterBaseData.prototype.cancel = function () { };\n    CompleterBaseData.prototype.searchFieldss = function (searchFields) {\n        this._searchFields = searchFields;\n        return this;\n    };\n    CompleterBaseData.prototype.titleField = function (titleField) {\n        this._titleField = titleField;\n        return this;\n    };\n    CompleterBaseData.prototype.descriptionField = function (descriptionField) {\n        this._descriptionField = descriptionField;\n        return this;\n    };\n    CompleterBaseData.prototype.imageField = function (imageField) {\n        this._imageField = imageField;\n        return this;\n    };\n    CompleterBaseData.prototype.extractMatches = function (data, term) {\n        var matches = [];\n        if (this._searchFields && this._searchFields != \"\" && term != \"\") {\n            var searchFields = this._searchFields.split(\",\");\n            for (var i = 0; i < data.length; i++) {\n                var match = false;\n                for (var s = 0; s < searchFields.length && !match; s++) {\n                    var value = this.extractValue(data[i], searchFields[s]) || \"\";\n                    match = value.toString().toLowerCase().indexOf(term.toString().toLowerCase()) >= 0;\n                }\n                if (match) {\n                    matches.push(data[i]);\n                }\n            }\n        }\n        else {\n            matches = data;\n        }\n        return matches;\n    };\n    CompleterBaseData.prototype.extractTitle = function (item) {\n        var _this = this;\n        // split title fields and run extractValue for each and join with ' '\n        return this._titleField.split(\",\")\n            .map(function (field) {\n            return _this.extractValue(item, field);\n        })\n            .join(\" \");\n    };\n    CompleterBaseData.prototype.extractValue = function (obj, key) {\n        var keys;\n        var result;\n        if (key) {\n            keys = key.split(\".\");\n            result = obj;\n            for (var i = 0; i < keys.length; i++) {\n                if (result) {\n                    result = result[keys[i]];\n                }\n            }\n        }\n        else {\n            result = obj;\n        }\n        return result;\n    };\n    CompleterBaseData.prototype.processResults = function (matches) {\n        var i;\n        var description;\n        var image;\n        var text;\n        var formattedText;\n        var formattedDesc;\n        var results = [];\n        if (matches && matches.length > 0) {\n            for (i = 0; i < matches.length; i++) {\n                if (this.titleField && this._titleField !== \"\") {\n                    text = formattedText = this.extractTitle(matches[i]);\n                }\n                description = \"\";\n                if (this._descriptionField) {\n                    description = formattedDesc = this.extractValue(matches[i], this._descriptionField);\n                }\n                image = null;\n                if (this._imageField) {\n                    image = this.extractValue(matches[i], this._imageField);\n                }\n                results.push({\n                    title: formattedText,\n                    description: formattedDesc,\n                    image: image,\n                    originalObject: matches[i]\n                });\n            }\n        }\n        return results;\n    };\n    return CompleterBaseData;\n}(Subject));\n//# sourceMappingURL=completer-base-data.js.map","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nimport { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport { CompleterBaseData } from \"./completer-base-data\";\nexport var LocalData = (function (_super) {\n    __extends(LocalData, _super);\n    function LocalData() {\n        _super.call(this);\n    }\n    LocalData.prototype.data = function (data) {\n        var _this = this;\n        if (data instanceof Observable) {\n            data.subscribe(function (res) {\n                _this._data = res;\n                if (_this.savedTerm) {\n                    _this.search(_this.savedTerm);\n                }\n            });\n        }\n        else {\n            this._data = data;\n        }\n        return this;\n    };\n    LocalData.prototype.search = function (term) {\n        if (!this._data) {\n            this.savedTerm = term;\n        }\n        else {\n            this.savedTerm = null;\n            var matches = this.extractMatches(this._data, term);\n            this.next(this.processResults(matches));\n        }\n    };\n    LocalData.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    LocalData.ctorParameters = function () { return []; };\n    return LocalData;\n}(CompleterBaseData));\n//# sourceMappingURL=local-data.js.map","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nimport { Headers } from \"@angular/http\";\nimport \"rxjs/add/operator/map\";\nimport \"rxjs/add/operator/catch\";\nimport { CompleterBaseData } from \"./completer-base-data\";\nexport var RemoteData = (function (_super) {\n    __extends(RemoteData, _super);\n    function RemoteData(http) {\n        _super.call(this);\n        this.http = http;\n        this._urlFormater = null;\n        this._dataField = null;\n    }\n    RemoteData.prototype.remoteUrl = function (remoteUrl) {\n        this._remoteUrl = remoteUrl;\n        return this;\n    };\n    RemoteData.prototype.urlFormater = function (urlFormater) {\n        this._urlFormater = urlFormater;\n    };\n    RemoteData.prototype.dataField = function (dataField) {\n        this._dataField = dataField;\n    };\n    RemoteData.prototype.headers = function (headers) {\n        this._headers = headers;\n    };\n    RemoteData.prototype.search = function (term) {\n        var _this = this;\n        this.cancel();\n        // let params = {};\n        var url = \"\";\n        if (this._urlFormater) {\n            url = this._urlFormater(term);\n        }\n        else {\n            url = this._remoteUrl + encodeURIComponent(term);\n        }\n        this.remoteSearch = this.http.get(url, { headers: this._headers || new Headers() })\n            .map(function (res) { return res.json(); })\n            .map(function (data) {\n            var matchaes = _this.extractValue(data, _this._dataField);\n            return _this.extractMatches(matchaes, term);\n        })\n            .map(function (matches) {\n            var results = _this.processResults(matches);\n            _this.next(results);\n            return results;\n        })\n            .catch(function (err) {\n            _this.error(err);\n            return null;\n        })\n            .subscribe();\n    };\n    RemoteData.prototype.cancel = function () {\n        if (this.remoteSearch) {\n            this.remoteSearch.unsubscribe();\n        }\n    };\n    return RemoteData;\n}(CompleterBaseData));\n//# sourceMappingURL=remote-data.js.map","import { Injectable, Inject } from \"@angular/core\";\nimport { LocalData } from \"./local-data\";\nimport { RemoteData } from \"./remote-data\";\nexport var CompleterService = (function () {\n    function CompleterService(localDataFactory, // Using any instead of () => LocalData because on AoT errors\n        remoteDataFactory // Using any instead of () => LocalData because on AoT errors\n        ) {\n        this.localDataFactory = localDataFactory;\n        this.remoteDataFactory = remoteDataFactory;\n    }\n    CompleterService.prototype.local = function (data, searchFields, titleField) {\n        var localData = this.localDataFactory();\n        return localData\n            .data(data)\n            .searchFieldss(searchFields)\n            .titleField(titleField);\n    };\n    CompleterService.prototype.remote = function (url, searchFields, titleField) {\n        var remoteData = this.remoteDataFactory();\n        return remoteData\n            .remoteUrl(url)\n            .searchFieldss(searchFields)\n            .titleField(titleField);\n    };\n    CompleterService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    CompleterService.ctorParameters = function () { return [\n        { type: undefined, decorators: [{ type: Inject, args: [LocalData,] },] },\n        { type: undefined, decorators: [{ type: Inject, args: [RemoteData,] },] },\n    ]; };\n    return CompleterService;\n}());\n//# sourceMappingURL=completer-service.js.map","import { Directive, ElementRef, Host } from \"@angular/core\";\nimport { CtrCompleter } from \"./ctr-completer\";\nexport var CtrRowItem = (function () {\n    function CtrRowItem(row, index) {\n        this.row = row;\n        this.index = index;\n    }\n    return CtrRowItem;\n}());\nexport var CtrDropdown = (function () {\n    function CtrDropdown(completer, el) {\n        this.completer = completer;\n        this.el = el;\n        this.rows = [];\n        this.completer.registerDropdown(this);\n    }\n    CtrDropdown.prototype.ngOnInit = function () {\n        var css = getComputedStyle(this.el.nativeElement);\n        this.isScrollOn = css.maxHeight && css.overflowY === \"auto\";\n    };\n    CtrDropdown.prototype.ngOnDestroy = function () {\n        this.completer.registerDropdown(null);\n    };\n    CtrDropdown.prototype.registerRow = function (row) {\n        this.rows.push(row);\n    };\n    CtrDropdown.prototype.highlightRow = function (index) {\n        var highlited = this.rows.find(function (row) { return row.index === index; });\n        if (index < 0) {\n            if (this.currHighlited) {\n                this.currHighlited.row.setHighlited(false);\n            }\n            this.currHighlited = undefined;\n            return;\n        }\n        if (!highlited) {\n            return;\n        }\n        if (this.currHighlited) {\n            this.currHighlited.row.setHighlited(false);\n        }\n        this.currHighlited = highlited;\n        this.currHighlited.row.setHighlited(true);\n        this.completer.onHighlighted(this.currHighlited.row.getDataItem());\n    };\n    CtrDropdown.prototype.clear = function () {\n        this.rows = [];\n    };\n    CtrDropdown.prototype.onSelected = function (item) {\n        this.completer.onSelected(item);\n    };\n    CtrDropdown.prototype.selectCurrent = function () {\n        if (this.currHighlited) {\n            this.onSelected(this.currHighlited.row.getDataItem());\n        }\n        else if (this.rows.length > 0) {\n            this.onSelected(this.rows[0].row.getDataItem());\n        }\n    };\n    CtrDropdown.prototype.nextRow = function () {\n        var nextRowIndex = 0;\n        if (this.currHighlited) {\n            nextRowIndex = this.currHighlited.index + 1;\n        }\n        this.highlightRow(nextRowIndex);\n        if (this.isScrollOn && this.currHighlited) {\n            var row = this.currHighlited.row.getNativeElement();\n            if (this.dropdownHeight() < row.getBoundingClientRect().bottom) {\n                this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(row));\n            }\n        }\n    };\n    CtrDropdown.prototype.prevRow = function () {\n        var nextRowIndex = -1;\n        if (this.currHighlited) {\n            nextRowIndex = this.currHighlited.index - 1;\n        }\n        this.highlightRow(nextRowIndex);\n        if (this.isScrollOn && this.currHighlited) {\n            var rowTop = this.dropdownRowTop();\n            if (rowTop < 0) {\n                this.dropdownScrollTopTo(rowTop - 1);\n            }\n        }\n    };\n    CtrDropdown.prototype.dropdownScrollTopTo = function (offset) {\n        this.el.nativeElement.scrollTop = this.el.nativeElement.scrollTop + offset;\n    };\n    CtrDropdown.prototype.dropdownRowTop = function () {\n        return this.currHighlited.row.getNativeElement().getBoundingClientRect().top -\n            (this.el.nativeElement.getBoundingClientRect().top +\n                parseInt(getComputedStyle(this.el.nativeElement).paddingTop, 10));\n    };\n    CtrDropdown.prototype.dropdownHeight = function () {\n        return this.el.nativeElement.getBoundingClientRect().top +\n            parseInt(getComputedStyle(this.el.nativeElement).maxHeight, 10);\n    };\n    CtrDropdown.prototype.dropdownRowOffsetHeight = function (row) {\n        var css = getComputedStyle(row);\n        return row.offsetHeight +\n            parseInt(css.marginTop, 10) + parseInt(css.marginBottom, 10);\n    };\n    CtrDropdown.decorators = [\n        { type: Directive, args: [{\n                    selector: \"[ctrDropdown]\",\n                },] },\n    ];\n    /** @nocollapse */\n    CtrDropdown.ctorParameters = function () { return [\n        { type: CtrCompleter, decorators: [{ type: Host },] },\n        { type: ElementRef, },\n    ]; };\n    return CtrDropdown;\n}());\n//# sourceMappingURL=ctr-dropdown.js.map","import { Directive, EventEmitter, Host, HostListener, Input, Output } from \"@angular/core\";\nimport { CtrCompleter } from \"./ctr-completer\";\n// keyboard events\nvar KEY_DW = 40;\nvar KEY_RT = 39;\nvar KEY_UP = 38;\nvar KEY_LF = 37;\nvar KEY_ES = 27;\nvar KEY_EN = 13;\nvar KEY_TAB = 9;\nexport var CtrInput = (function () {\n    function CtrInput(completer) {\n        var _this = this;\n        this.completer = completer;\n        this.clearSelected = false;\n        this.overrideSuggested = false;\n        this.fillHighlighted = true;\n        this.ngModelChange = new EventEmitter();\n        this._searchStr = \"\";\n        this._displayStr = \"\";\n        this._selectedItem = null;\n        this.completer.selected.subscribe(function (item) {\n            _this._selectedItem = item;\n            if (!item) {\n                return;\n            }\n            if (_this.clearSelected) {\n                _this.searchStr = \"\";\n            }\n            else {\n                _this.searchStr = item.title;\n            }\n            _this.ngModelChange.emit(_this.searchStr);\n        });\n        this.completer.highlighted.subscribe(function (item) {\n            if (_this.fillHighlighted) {\n                _this._displayStr = item.title;\n                _this.ngModelChange.emit(item.title);\n            }\n        });\n    }\n    CtrInput.prototype.onInputChange = function (event) {\n        this.searchStr = event.target.value;\n    };\n    CtrInput.prototype.keyupHandler = function (event) {\n        if (event.keyCode === KEY_LF || event.keyCode === KEY_RT || event.keyCode === KEY_TAB) {\n            // do nothing\n            return;\n        }\n        if (event.keyCode === KEY_UP || event.keyCode === KEY_EN) {\n            event.preventDefault();\n        }\n        else if (event.keyCode === KEY_DW) {\n            event.preventDefault();\n            this.completer.search(this.searchStr);\n        }\n        else if (event.keyCode === KEY_ES) {\n            this._searchStr = this._displayStr;\n            this.completer.clear();\n        }\n        else {\n            if (!this.searchStr) {\n                this.completer.clear();\n                return;\n            }\n            this.completer.search(this.searchStr);\n        }\n    };\n    CtrInput.prototype.keydownHandler = function (event) {\n        if (event.keyCode === KEY_EN) {\n            if (this.completer.hasHighlited()) {\n                event.preventDefault();\n            }\n            this.completer.selectCurrent();\n        }\n        else if (event.keyCode === KEY_DW) {\n            event.preventDefault();\n            this.completer.nextRow();\n        }\n        else if (event.keyCode === KEY_UP) {\n            event.preventDefault();\n            this.completer.prevRow();\n        }\n        else if (event.keyCode === KEY_TAB) {\n            if (this.overrideSuggested && this._selectedItem) {\n                this.completer.onSelected({ title: this.searchStr, originalObject: null });\n            }\n            else {\n                this.completer.selectCurrent();\n            }\n        }\n        else if (event.keyCode === KEY_ES) {\n            // This is very specific to IE10/11 #272\n            // without this, IE clears the input text\n            event.preventDefault();\n        }\n    };\n    CtrInput.prototype.onBlur = function (event) {\n        var _this = this;\n        setTimeout(function () {\n            if (_this.overrideSuggested) {\n                _this.completer.onSelected({ title: _this.searchStr, originalObject: null });\n            }\n            _this.completer.clear();\n        }, 200);\n    };\n    Object.defineProperty(CtrInput.prototype, \"searchStr\", {\n        get: function () {\n            return this._searchStr;\n        },\n        set: function (term) {\n            this._searchStr = term;\n            this._displayStr = term;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CtrInput.decorators = [\n        { type: Directive, args: [{\n                    selector: \"[ctrInput]\",\n                },] },\n    ];\n    /** @nocollapse */\n    CtrInput.ctorParameters = function () { return [\n        { type: CtrCompleter, decorators: [{ type: Host },] },\n    ]; };\n    CtrInput.propDecorators = {\n        'clearSelected': [{ type: Input, args: [\"clearSelected\",] },],\n        'overrideSuggested': [{ type: Input, args: [\"overrideSuggested\",] },],\n        'fillHighlighted': [{ type: Input, args: [\"fillHighlighted\",] },],\n        'ngModelChange': [{ type: Output },],\n        'onInputChange': [{ type: HostListener, args: [\"input\", [\"$event\"],] },],\n        'keyupHandler': [{ type: HostListener, args: [\"keyup\", [\"$event\"],] },],\n        'keydownHandler': [{ type: HostListener, args: [\"keydown\", [\"$event\"],] },],\n        'onBlur': [{ type: HostListener, args: [\"blur\", [\"$event\"],] },],\n    };\n    return CtrInput;\n}());\n//# sourceMappingURL=ctr-input.js.map","import { ChangeDetectorRef, Directive, Host, Input, TemplateRef, ViewContainerRef } from \"@angular/core\";\nimport { Observable } from \"rxjs/Rx\";\nimport { CtrCompleter } from \"./ctr-completer\";\nimport { MIN_SEARCH_LENGTH, PAUSE, CLEAR_TIMEOUT } from \"../globals\";\nexport var CtrListContext = (function () {\n    function CtrListContext(results, searching, searchInitialized) {\n        this.results = results;\n        this.searching = searching;\n        this.searchInitialized = searchInitialized;\n    }\n    return CtrListContext;\n}());\nexport var CtrList = (function () {\n    function CtrList(completer, templateRef, viewContainer, cd) {\n        this.completer = completer;\n        this.templateRef = templateRef;\n        this.viewContainer = viewContainer;\n        this.cd = cd;\n        this.ctrListMinSearchLength = MIN_SEARCH_LENGTH;\n        this.ctrListPause = PAUSE;\n        this.ctrListAutoMatch = false;\n        // private results: CompleterItem[] = [];\n        this.term = null;\n        // private searching = false;\n        this.searchTimer = null;\n        this.clearTimer = null;\n        this.ctx = new CtrListContext([], false, false);\n    }\n    CtrList.hasTerm = function (term) {\n        return term || term === \"\";\n    };\n    CtrList.prototype.ngOnInit = function () {\n        this.completer.registerList(this);\n        this.viewContainer.createEmbeddedView(this.templateRef, new CtrListContext([], false, false));\n    };\n    Object.defineProperty(CtrList.prototype, \"dataService\", {\n        set: function (newService) {\n            var _this = this;\n            this._dataService = newService;\n            if (this._dataService) {\n                this._dataService\n                    .catch(function (err) { return _this.handleError(err); })\n                    .subscribe(function (results) {\n                    _this.ctx.searchInitialized = true;\n                    _this.ctx.searching = false;\n                    _this.ctx.results = results;\n                    if (_this.ctrListAutoMatch && results.length === 1 && results[0].title && CtrList.hasTerm(_this.term) &&\n                        results[0].title.toLocaleLowerCase() === _this.term.toLocaleLowerCase()) {\n                        // Do automatch\n                        _this.completer.onSelected(results[0]);\n                    }\n                    _this.refreshTemplate();\n                });\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CtrList.prototype.search = function (term) {\n        var _this = this;\n        if (this.term != term) {\n            // Clear selected value\n            this.completer.clear();\n        }\n        if (CtrList.hasTerm(term) && term.length >= this.ctrListMinSearchLength && this.term !== term) {\n            if (this.searchTimer) {\n                this.searchTimer.unsubscribe();\n                this.searchTimer = null;\n            }\n            if (!this.ctx.searching) {\n                this.ctx.results = [];\n                this.ctx.searching = true;\n                this.ctx.searchInitialized = true;\n                this.refreshTemplate();\n            }\n            if (this.clearTimer) {\n                this.clearTimer.unsubscribe();\n            }\n            this.searchTimer = Observable.timer(this.ctrListPause).subscribe(function () {\n                _this.searchTimerComplete(term);\n            });\n        }\n    };\n    CtrList.prototype.clear = function () {\n        var _this = this;\n        if (this.searchTimer) {\n            this.searchTimer.unsubscribe();\n        }\n        this.clearTimer = Observable.timer(CLEAR_TIMEOUT).subscribe(function () {\n            _this._clear();\n        });\n    };\n    CtrList.prototype._clear = function () {\n        if (this.searchTimer) {\n            this.searchTimer.unsubscribe();\n            this.searchTimer = null;\n        }\n        if (this.dataService) {\n            this.dataService.cancel();\n        }\n        this.ctx.results = [];\n        this.ctx.searchInitialized = false;\n        this.term = null;\n        this.viewContainer.clear();\n    };\n    CtrList.prototype.searchTimerComplete = function (term) {\n        // Begin the search\n        if (!CtrList.hasTerm(term) || term.length < this.ctrListMinSearchLength) {\n            this.ctx.searching = false;\n            return;\n        }\n        this.term = term;\n        this._dataService.search(term);\n    };\n    CtrList.prototype.handleError = function (error) {\n        this.ctx.searching = false;\n        var errMsg = \"search error\";\n        if (error) {\n            errMsg = (error.message) ? error.message :\n                error.status ? error.status + \" - \" + error.statusText : \"Server error\";\n        }\n        if (console && console.error) {\n            console.error(errMsg); // log to console \n        }\n        this.refreshTemplate();\n        return Observable.throw(errMsg);\n    };\n    CtrList.prototype.refreshTemplate = function () {\n        // Recreate the template\n        this.viewContainer.clear();\n        this.viewContainer.createEmbeddedView(this.templateRef, this.ctx);\n        this.cd.markForCheck();\n    };\n    CtrList.decorators = [\n        { type: Directive, args: [{\n                    selector: \"[ctrList]\",\n                },] },\n    ];\n    /** @nocollapse */\n    CtrList.ctorParameters = function () { return [\n        { type: CtrCompleter, decorators: [{ type: Host },] },\n        { type: TemplateRef, },\n        { type: ViewContainerRef, },\n        { type: ChangeDetectorRef, },\n    ]; };\n    CtrList.propDecorators = {\n        'ctrListMinSearchLength': [{ type: Input },],\n        'ctrListPause': [{ type: Input },],\n        'ctrListAutoMatch': [{ type: Input },],\n        'dataService': [{ type: Input, args: [\"ctrList\",] },],\n    };\n    return CtrList;\n}());\n//# sourceMappingURL=ctr-list.js.map","import { Directive, ElementRef, Host, HostListener, Input, Renderer } from \"@angular/core\";\nimport { CtrDropdown, CtrRowItem } from \"./ctr-dropdown\";\nexport var CtrRow = (function () {\n    function CtrRow(el, renderer, dropdown) {\n        this.el = el;\n        this.renderer = renderer;\n        this.dropdown = dropdown;\n        this.selected = false;\n    }\n    CtrRow.prototype.ngOnInit = function () {\n        this.dropdown.registerRow(new CtrRowItem(this, this._rowIndex));\n    };\n    Object.defineProperty(CtrRow.prototype, \"ctrRow\", {\n        set: function (index) {\n            this._rowIndex = index;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CtrRow.prototype, \"dataItem\", {\n        set: function (item) {\n            this._item = item;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CtrRow.prototype.onClick = function (event) {\n        this.dropdown.onSelected(this._item);\n    };\n    CtrRow.prototype.onMouseEnter = function (event) {\n        this.dropdown.highlightRow(this._rowIndex);\n    };\n    CtrRow.prototype.setHighlited = function (selected) {\n        this.selected = selected;\n        this.renderer.setElementClass(this.el.nativeElement, \"completer-selected-row\", this.selected);\n    };\n    CtrRow.prototype.getNativeElement = function () {\n        return this.el.nativeElement;\n    };\n    CtrRow.prototype.getDataItem = function () {\n        return this._item;\n    };\n    CtrRow.decorators = [\n        { type: Directive, args: [{\n                    selector: \"[ctrRow]\",\n                },] },\n    ];\n    /** @nocollapse */\n    CtrRow.ctorParameters = function () { return [\n        { type: ElementRef, },\n        { type: Renderer, },\n        { type: CtrDropdown, decorators: [{ type: Host },] },\n    ]; };\n    CtrRow.propDecorators = {\n        'ctrRow': [{ type: Input },],\n        'dataItem': [{ type: Input },],\n        'onClick': [{ type: HostListener, args: [\"click\", [\"$event\"],] },],\n        'onMouseEnter': [{ type: HostListener, args: [\"mouseenter\", [\"$event\"],] },],\n    };\n    return CtrRow;\n}());\n//# sourceMappingURL=ctr-row.js.map","import { NgModule } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { HttpModule } from \"@angular/http\";\nimport { CompleterCmp } from \"./components/completer-cmp\";\nimport { CompleterListItemCmp } from \"./components/completer-list-item-cmp\";\nimport { CompleterService } from \"./services/completer-service\";\nimport { LocalDataFactoryProvider, RemoteDataFactoryProvider } from \"./services/completer-data-factory\";\nimport { CtrCompleter } from \"./directives/ctr-completer\";\nimport { CtrDropdown } from \"./directives/ctr-dropdown\";\nimport { CtrInput } from \"./directives/ctr-input\";\nimport { CtrList } from \"./directives/ctr-list\";\nimport { CtrRow } from \"./directives/ctr-row\";\nimport { CommonModule } from \"@angular/common\";\nexport var Ng2CompleterModule = (function () {\n    function Ng2CompleterModule() {\n    }\n    Ng2CompleterModule.decorators = [\n        { type: NgModule, args: [{\n                    imports: [\n                        CommonModule,\n                        FormsModule,\n                        HttpModule\n                    ],\n                    declarations: [\n                        CompleterListItemCmp,\n                        CtrCompleter,\n                        CtrDropdown,\n                        CtrInput,\n                        CtrList,\n                        CtrRow,\n                        CompleterCmp\n                    ],\n                    exports: [\n                        CompleterCmp,\n                        CompleterListItemCmp,\n                        CtrCompleter,\n                        CtrDropdown,\n                        CtrInput,\n                        CtrList,\n                        CtrRow\n                    ],\n                    providers: [\n                        CompleterService,\n                        LocalDataFactoryProvider,\n                        RemoteDataFactoryProvider\n                    ]\n                },] },\n    ];\n    /** @nocollapse */\n    Ng2CompleterModule.ctorParameters = function () { return []; };\n    return Ng2CompleterModule;\n}());\n//# sourceMappingURL=ng2-completer.module.js.map"],"names":["localDataFactory","LocalData","remoteDataFactory","http","RemoteData","CtrCompleter","this","selected","EventEmitter","highlighted","_hasHighlited","hasSelected","prototype","ngOnInit","registerList","list","registerDropdown","dropdown","onHighlighted","item","emit","onSelected","clear","search","term","selectCurrent","nextRow","prevRow","hasHighlited","decorators","type","Directive","args","selector","ctorParameters","propDecorators","Output","MAX_CHARS","MIN_SEARCH_LENGTH","PAUSE","TEXT_SEARCHING","TEXT_NORESULTS","CLEAR_TIMEOUT","noop","COMPLETER_CONTROL_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","CompleterCmp","multi","inputName","pause","minSearchLength","maxChars","overrideSuggested","clearSelected","fillHighlighted","placeholder","textSearching","textNoResults","autoMatch","disableInput","autofocus","blur","searchStr","control","FormControl","displaySearching","_onTouchedCallback","_onChangeCallback","Object","defineProperty","get","set","v","enumerable","configurable","onTouched","writeValue","value","registerOnChange","fn","registerOnTouched","_this","completer","subscribe","title","onBlur","onChange","open","searchValue","close","Component","template","styles","providers","dataService","Input","matchClass","fieldTabindex","inputClass","ViewChild","CompleterListItemCmp","parts","push","isMatch","text","matchStr","toLowerCase","matchPos","indexOf","startIndex","matchText","slice","length","matchPart","__extends","d","b","__","constructor","p","hasOwnProperty","create","CompleterBaseData","_super","call","cancel","searchFieldss","searchFields","_searchFields","titleField","_titleField","descriptionField","_descriptionField","imageField","_imageField","extractMatches","data","matches","split","i","match","s","extractValue","toString","extractTitle","map","field","join","obj","key","keys","result","processResults","description","image","formattedText","formattedDesc","results","originalObject","Subject","Observable","res","_data","savedTerm","next","Injectable","_urlFormater","_dataField","remoteUrl","_remoteUrl","urlFormater","dataField","headers","_headers","url","encodeURIComponent","remoteSearch","Headers","json","matchaes","catch","err","error","unsubscribe","CompleterService","local","localData","remote","remoteData","undefined","Inject","LocalDataFactoryProvider","useFactory","RemoteDataFactoryProvider","deps","Http","CtrRowItem","row","index","CtrDropdown","el","rows","css","getComputedStyle","nativeElement","isScrollOn","maxHeight","overflowY","ngOnDestroy","registerRow","highlightRow","highlited","find","currHighlited","setHighlited","getDataItem","nextRowIndex","getNativeElement","dropdownHeight","getBoundingClientRect","bottom","dropdownScrollTopTo","dropdownRowOffsetHeight","rowTop","dropdownRowTop","offset","scrollTop","top","parseInt","paddingTop","offsetHeight","marginTop","marginBottom","Host","ElementRef","KEY_DW","KEY_RT","KEY_UP","KEY_LF","KEY_ES","KEY_EN","KEY_TAB","CtrInput","ngModelChange","_searchStr","_displayStr","_selectedItem","onInputChange","event","target","keyupHandler","keyCode","preventDefault","keydownHandler","setTimeout","HostListener","CtrListContext","searching","searchInitialized","CtrList","templateRef","viewContainer","cd","ctrListMinSearchLength","ctrListPause","ctrListAutoMatch","searchTimer","clearTimer","ctx","hasTerm","createEmbeddedView","newService","_dataService","handleError","toLocaleLowerCase","refreshTemplate","timer","searchTimerComplete","_clear","errMsg","message","status","statusText","console","throw","markForCheck","TemplateRef","ViewContainerRef","ChangeDetectorRef","CtrRow","renderer","_rowIndex","_item","onClick","onMouseEnter","setElementClass","Renderer","ctrRow","dataItem","Ng2CompleterModule","NgModule","imports","CommonModule","FormsModule","HttpModule","declarations","exports"],"mappings":"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"}